<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	layout:decorate="~{inventory/layout}">
<head>
<meta charset="UTF-8">
<title>Qu·∫£n l√Ω kho - 4Petals</title>
<script
	src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</head>
<body>

<div layout:fragment="content">
	<div class="dashboard-container">

		<!-- N·ªôi dung ch√≠nh -->
		<div class="main-content show">

			<!-- Ph·∫ßn hi·ªÉn th·ªã b·∫£ng -->
			<div id="content-section" class="content-box mt-4 mx-3 p-4">
				<h5 class="fw-bold text-danger">Danh s√°ch c√°c ƒë∆°n h√†ng c·∫ßn ƒë√≥ng
					g√≥i</h5>

				<table class="table table-bordered mt-3 align-middle text-center">
					<thead class="table-success">
						<tr>
							<th>STT</th>
							<th>M√£ ƒë∆°n h√†ng</th>
							<th>T√™n kh√°ch h√†ng</th>
							<th>Tr·∫°ng th√°i</th>
							<th>ƒê√≥ng g√≥i</th>
						</tr>
					</thead>
					<tbody>
						<tr th:each="order, iStat : ${listOrders}">
							<td th:text="${iStat.count}"></td>
							<td th:text="${order.maDH}"></td>
							<td th:text="${order.khachHang != null ? order.khachHang.hoTen : 'Ch∆∞a c√≥'}"></td>

							<!-- C·ªôt tr·∫°ng th√°i (checkbox) -->
							<td class="text-center"><input type="checkbox"
								th:id="'status-' + ${order.maDH}" disabled></td>

							<!-- C·ªôt ƒë√≥ng g√≥i (icon) -->
							<td class="text-center"><a href="#"
								class="text-primary fs-5"
								th:onclick="'showOrderDetail(' + ${order.maDH} + '); return false;'">
									üì¶ </a></td>
						</tr>
					</tbody>
				</table>
			</div>
			<!-- Modal hi·ªÉn th·ªã chi ti·∫øt ƒë∆°n h√†ng -->
			<div class="modal fade" id="orderDetailModal" tabindex="-1" aria-hidden="true">
				<div class="modal-dialog modal-lg">
					<div class="modal-content">
						<div class="modal-header">
							<h5 class="modal-title">Chi ti·∫øt ƒë∆°n h√†ng</h5>
							<button type="button" class="btn-close" data-bs-dismiss="modal"></button>
						</div>
						<div class="modal-body">
							<table class="table table-bordered">
								<thead>
									<tr>
										<th>STT</th>
										<th>T√™n s·∫£n ph·∫©m</th>
										<th>S·ªë l∆∞·ª£ng</th>
										<th>Gi√°</th>
										<th>Th√†nh ti·ªÅn</th>
									</tr>
								</thead>
								<tbody id="order-detail-body">
								</tbody>
							</table>
						</div>
						<div class="modal-footer">
							<button type="button" class="btn btn-success" onclick="confirmOrder()">X√°c nh·∫≠n</button>
							<button type="button" class="btn btn-secondary" data-bs-dismiss="modal">H·ªßy</button>
						</div>
					</div>
				</div>
			</div>

		</div>
	</div>
	<th:block layout:fragment="scripts">
		<script th:src="@{/styles/js/inventory/orders.js}"></script>
	</th:block>
	</div>
</body>
</html>
